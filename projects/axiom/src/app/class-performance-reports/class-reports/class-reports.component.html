<div class="row">
   <div class="col-12">
      <mat-card>
         <mat-card-title>
            <h1 class="remove-bottom-margin font-size-24">Class Reports</h1>
         </mat-card-title>
      </mat-card>
   </div>
</div>
<div class="row">
   <div class="col-12">
      <mat-card>
         <mat-card-content>
            <div id="printModal">
               <div class="text-center">
                  <h5>Overall Class Reports</h5>
               </div>
               <div class="row row-remove-top-margin">
                  <div class="col-lg-12 pd_left pd_right">
                     <form [formGroup]="classPerformanceFilter" novalidate>
                        <div class="row">
                           <div class="col-lg-12">
                              <div class="form-row">
                                 <div class="form-group col-lg-4 fin-tab-col-20">
                                    <mat-form-field class="form-field" appearance="outline">
                                       <mat-label>Class</mat-label>
                                       <mat-select formControlName="class_id"
                                          (selectionChange)="getSectionsByClass();getSubjectsByClass()"
                                          placeholder="Class" required>
                                          <mat-option *ngFor="let item of classArray" [value]="item.class_id">
                                             {{item.class_name}}
                                          </mat-option>
                                       </mat-select>
                                    </mat-form-field>
                                 </div>
                                 <div class="form-group col-lg-4 fin-tab-col-20">
                                    <mat-form-field class="form-field" appearance="outline">
                                       <mat-label>Section</mat-label>
                                       <mat-select formControlName="sec_id" (selectionChange)="getUser()"
                                          placeholder="Section" required>
                                          <mat-option *ngFor="let item of sectionsArray" [value]="item.sec_id">
                                             {{item.sec_name}}
                                          </mat-option>
                                       </mat-select>
                                    </mat-form-field>
                                 </div>
                                 <div class="form-group col-lg-4 fin-tab-col-20">
                                    <div class="mt-3">
                                       <button mat-raised-button class="submit-button" (click)="classPerformance();"
                                          [disabled]="!classPerformanceFilter.valid">Generate
                                          Report</button>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </form>
                  </div>
               </div>
            </div>
            <div class="col-sm">
               <mat-tab-group *ngIf="reportFlag">
                  <mat-tab>
                     <ng-template mat-tab-label>
                        <div class="tab-show-on-click" (click)="setTab3()">
                           <span>Overall Class Performance</span>
                        </div>
                     </ng-template>
                     <app-admin-overall-class-performance [classPerformanceFilter]="classPerformanceFilter"
                        [reportFlag]="reportFlag" [tabFlag3]="tabFlag3"></app-admin-overall-class-performance>
                  </mat-tab>
                  <mat-tab>
                     <ng-template mat-tab-label>
                        <div class="tab-show-on-click" (click)="setTab2()">
                           <span>Section Slabwise Performance</span>
                        </div>
                     </ng-template>
                     <app-class-topic-section-slabwise-report [classPerformanceFilter]="classPerformanceFilter"
                        [sectionsArray]="sectionsArray" [reportFlag]="reportFlag" [subjectArray]="subjectArray"
                        [tabFlag2]="tabFlag2">
                     </app-class-topic-section-slabwise-report>
                  </mat-tab>
                  <mat-tab>
                     <ng-template mat-tab-label>
                        <div class="tab-show-on-click" (click)="setTab1()">
                           <span>Sectionwise Performance</span>
                        </div>
                     </ng-template>
                     <app-class-performance-topicsection-wise [classPerformanceFilter]="classPerformanceFilter"
                        [subjectArray]="subjectArray" [sectionsArray]="sectionsArray" [reportFlag]="reportFlag"
                        [tabFlag1]="tabFlag1">
                     </app-class-performance-topicsection-wise>
                  </mat-tab>
                  <mat-tab>
                     <ng-template mat-tab-label>
                        <div class="tab-show-on-click">
                           <span>SubjectWise Performance</span>
                        </div>
                     </ng-template>
                     <app-admin-class-performance-topicsubtopicwise-report
                        [classPerformanceFilter]="classPerformanceFilter" [subjectArray]="subjectArray"
                        [reportFlag]="reportFlag"></app-admin-class-performance-topicsubtopicwise-report>
                  </mat-tab>
                  <mat-tab>
                     <ng-template mat-tab-label>
                        <div class="tab-show-on-click">
                           <span>Class Performance</span>
                        </div>
                     </ng-template>
                     <app-class-performance-report [classPerformanceFilter]="classPerformanceFilter"
                        [currentUser]="currentUser" [subjectArray]="subjectArray" [reportFlag]="reportFlag">
                     </app-class-performance-report>
                  </mat-tab>
               </mat-tab-group>
            </div>
         </mat-card-content>
      </mat-card>
   </div>
</div>