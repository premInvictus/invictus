<div class="white-box">
  <div class="white-box-content">
     <div class="row">
        <div class="col-lg-12">
           <form [formGroup]="bookmarkedQuestionForm" novalidate>
              <div class="row">
                 <div class="col-lg-1 fin-tab-col-15 bookmark-filter">
                    <span>Filter by</span>
                 </div>
                 <div class="col-lg-2 fin-tab-col-33">
                    <mat-form-field class="form-field">
                       <mat-select formControlName="sub_id" placeholder="Select Subject">
                          <mat-option *ngFor="let item of subjectArray" [value]="item.sub_id"> {{item.sub_name}}
                          </mat-option>
                       </mat-select>
                    </mat-form-field>
                 </div>
                 <div class="col-lg-3 fin-tab-col-33">
                    <button mat-button class="submit-button" (click)="getBookmarkedQuestions()" >Apply</button>
                 </div>
              </div>
           </form>
        </div>
     </div>
     <br>
     <div *ngFor="let topic of topicqusArray; let i=index">
        <mat-accordion>
           <mat-expansion-panel class="bookmark-expansion-panel bookmark-expansion-panel-decorator" (click)="checkData(i)">
              <mat-expansion-panel-header class="right-aligned-header bookmark-header-decorator">
                 <mat-panel-title>
                    <div>
                       <span class="bookmark-serialno">{{i+1}}.</span>
                    </div>
                    <div>
                       <span class="bookmark-subtopic">{{topic.topic_name}}</span>
                    </div>
                 </mat-panel-title>
                 <mat-panel-description>
                    <button mat-icon class="bookmark-question-indicator">
                    <span>{{topic.TQArray.length}}</span>
                    </button>
                 </mat-panel-description>
              </mat-expansion-panel-header>
              <div class="row">
                 <div class="col-lg-12 col-mobile-view-add-ques">
                    <div [hidden]="!showData" class="detail-question-box-blue">
                       <div class="example-container table-box-main">
                          <div class="example-header table-filter">
                             <mat-form-field>
                                <input matInput (keyup)=" applyFilter($event.target.value,i)" placeholder="Filter">
                                <span matPrefix><i class="fas fa-sliders-h table-filter-icon"></i>&nbsp;&nbsp; </span>
                             </mat-form-field>
                          </div>
                          <mat-table class="specific-table bookmark-table" #table [dataSource]="bookmarkdataSourceArray[i]" matSort>
                          <!-- Position Column -->
                          <ng-container matColumnDef="position">
                             <mat-header-cell *matHeaderCellDef mat-sort-header class="sub-position">S No. </mat-header-cell>
                             <mat-cell *matCellDef="let item" class="sub-position">Q-{{item.position}} </mat-cell>
                          </ng-container>
                          <!-- Questions Name Column -->
                          <ng-container matColumnDef="question">
                             <mat-header-cell *matHeaderCellDef mat-sort-header> Questions</mat-header-cell>
                             <mat-cell *matCellDef="let item">
                                <div class="imgclass" [MathJax]="item.question"></div>
                             </mat-cell>
                          </ng-container>
                          <!-- Answer Name Column -->
                          <ng-container matColumnDef="answer">
                             <mat-header-cell *matHeaderCellDef mat-sort-header class="sub-answer">Answer</mat-header-cell>
                             <mat-cell *matCellDef="let item" class="sub-answer">
                                <div matTooltip="{{htmlToText(item.showHover)}}" class="imgClassExpress" [MathJax]="item.answer"></div>
                             </mat-cell>
                          </ng-container>
                          <!-- Class Name Column -->
                          <ng-container matColumnDef="class">
                             <mat-header-cell *matHeaderCellDef mat-sort-header class="sub-class">Class</mat-header-cell>
                             <mat-cell *matCellDef="let item" class="sub-class">{{item.class}}</mat-cell>
                          </ng-container>
                          <!-- Explanation Column -->
                          <ng-container matColumnDef="explanations">
                             <mat-header-cell *matHeaderCellDef mat-sort-header class="sub-explanation">Explanation</mat-header-cell>
                             <mat-cell *matCellDef="let item" class="sub-explanation">{{htmlToText(item.explanations)}}</mat-cell>
                          </ng-container>
                          <!--Sub topic Column -->
                          <ng-container matColumnDef="subtopic">
                             <mat-header-cell *matHeaderCellDef class="sub-subtopic">Sutopic</mat-header-cell>
                             <mat-cell *matCellDef="let item" class="sub-subtopic">{{item.subtopic}}</mat-cell>
                          </ng-container>
                          <!--S Column -->
                          <ng-container matColumnDef="details">
                             <mat-header-cell *matHeaderCellDef class="sub-details">Details</mat-header-cell>
                             <mat-cell *matCellDef="let item" class="sub-details">
                                <div [innerHTML]="item.details"></div>
                             </mat-cell>
                          </ng-container>
                          <!-- Action Column -->
                          <ng-container matColumnDef="action">
                             <mat-header-cell *matHeaderCellDef class="sub-action"> Action </mat-header-cell>
                             <mat-cell *matCellDef="let item" class="sub-action">
                                <i class="far fa-trash-alt table-delete-icon" matTooltip="Delete" (click)="deleteBookmarkedQuestion(item.action.bm_id)" ></i>
                                <i *ngIf="item.action.ess_title" matTooltip="View Essay" class="fas fa-eye view-eye-icon" (click)="openEssayDetails(item.action)"></i>
                             </mat-cell>
                          </ng-container>
                          <mat-header-row class="top_header" *matHeaderRowDef="bookmarkdisplayedColumns"></mat-header-row>
                          <mat-row *matRowDef="let row; columns: bookmarkdisplayedColumns"></mat-row>
                          </mat-table>
                          <mat-paginator [hidden]="!BOOKMARK_ELEMENT_DATA_FINAL[i]" [pageSize]="5" [pageSizeOptions]="[10,20,30]" [showFirstLastButtons]="true"></mat-paginator>
                       </div>
                       <!-- end of essay questions div -->
                    </div>
                 </div>
                 <hr>
              </div>
              <br>
           </mat-expansion-panel>
        </mat-accordion>
     </div>
  </div>
</div>