<div class="fee-container-box__grey">
    <div class="container-box__white">
        <form [formGroup]="Teacher_Form" novalidate>
            <div class="row">

                <div class="col-2">
                    <div class="image-upload">
                        <label for="file-input">
                            <img class="teacher-img" id="teacherImage" [src]="defaultsrc"
                                style="width: 109px; height: 145px; border:1px solid #9591d8"
                                matTooltip="upload-image 109px*145px" />
                        </label>
                        <input id="file-input" name="file-input" type="file"
                            (selectionChange)="readUrl($event);uploadTeacherImage($event)" />
                    </div>
                </div>
                <div class="col-10">
                    <div class="row">
                        <div class="col-6">
                            <div class="row">
                                <div class="col-12">
                                    <mat-form-field class="form-field" appearance="outline">
                                        <mat-label>Teacher Id</mat-label>
                                        <input matInput formControlName="au_login_id" readonly placeholder="Teacher Id">

                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <mat-form-field class="form-field" appearance="outline">
                                        <mat-label>Full Name</mat-label>
                                        <input matInput class="text-capitalize" formControlName="au_full_name" required
                                            placeholder="Full Name">
                                        <mat-error *ngIf="au_full_name.hasError('required')">
                                            Full name is <strong>required</strong>
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <mat-form-field class="form-field" appearance="outline">
                                        <mat-label>Contact No.</mat-label>
                                        <input matInput formControlName="au_mobile" required placeholder="Contact No."
                                            maxlength="10" pattern="[0-9]*">
                                        <mat-error *ngIf="au_mobile.hasError('required')">
                                            Mobile should be <strong>numbers</strong>
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="row">
                                <div class="col-12">
                                    <mat-form-field class="form-field" appearance="outline">
                                        <mat-label>School Code</mat-label>
                                        <input matInput [value]="schoolinfoArray.school_prefix" readonly
                                            placeholder="School Code">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <mat-form-field class="form-field" appearance="outline">
                                        <mat-label>School Name</mat-label>
                                        <input matInput name="schoolname" class="text-capitalize"
                                            [value]="schoolinfoArray.school_name" readonly placeholder="School Name">
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <mat-form-field class="form-field" appearance="outline">
                                        <mat-label>Email ID</mat-label>
                                        <input matInput name="email" formControlName="au_email" required
                                            pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                                            placeholder="Email ID">
                                        <mat-error *ngIf="au_email.hasError('required')">
                                            Email is <strong>required</strong>
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </form>
        <br>
        <mat-tab-group>
            <mat-tab>
                <ng-template mat-tab-label>
                    <div>
                        <span>Class Subject Relation</span>
                    </div>
                </ng-template>
                <div id="teacher-csr">
                    <div class="row margin-top-10 margin-bottom-10">
                        <div class="col-12 text-center">
                            <h6 class="text-uppercase">Class Subject Relation</h6>
                        </div>
                    </div>
                    <form [formGroup]="Cs_relation_Form" novalidate>
                        <div class="row">
                            <div class="col-2">
                                <mat-form-field class="form-field" appearance="outline">
                                    <mat-label>Designation</mat-label>
                                    <input matInput name="user" class="text-capitalize" placeholder="Designation"
                                        formControlName="uc_designation">
                                </mat-form-field>
                            </div>
                            <div class="col-2">
                                <mat-form-field class="form-field" appearance="outline">
                                    <mat-label>Department</mat-label>
                                    <input matInput placeholder="Department" class="text-capitalize"
                                        formControlName="uc_department">
                                </mat-form-field>
                            </div>
                            <div class="col-2">
                                <mat-form-field class="form-field" appearance="outline">
                                    <mat-label>Class</mat-label>
                                    <mat-select formControlName="uc_class_id" #inputclass
                                        (selectionChange)="getSectionsByClass();getSubjectsByClass();setCurrentClass(inputclass.value)"
                                        placeholder="Class" required>
                                        <mat-option [value]="">Select Class</mat-option>
                                        <mat-option *ngFor="let item of classArray" [value]="item.class_id">
                                            {{item.class_name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-2">
                                <mat-form-field class="form-field" appearance="outline">
                                    <mat-label>Select Section</mat-label>
                                    <mat-select formControlName="uc_sec_id" #inputsec
                                        (selectionChange)="getSubjectsByClass();setCurrentSection(inputsec.value)"
                                        placeholder="Section" required>
                                        <mat-option [value]="">Select Section</mat-option>
                                        <mat-option *ngFor="let item of sectionArray" [value]="item.sec_id">
                                            {{item.sec_name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-2">
                                <mat-form-field class="form-field" appearance="outline">
                                    <mat-label>Subject</mat-label>
                                    <mat-select formControlName="uc_sub_id" #inputsub
                                        (selectionChange)="setCurrentSubject(inputsub.value)" placeholder="Subject"
                                        required>
                                        <mat-option [value]="">Select Subject</mat-option>
                                        <mat-option *ngFor="let item of subjectArray" [value]="item.sub_id">
                                            {{item.sub_name}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-2">
                                <button mat-raised-button class="btn-success" type="submit"
                                    (click)="addCSToTeacher()">Add</button>
                            </div>
                        </div>
                        <div class="row" *ngIf="insertdata">
                            <div class="col-12">
                                <table class="table table-borderd table-stripped custom-table">
                                    <thead class="table-skill__head text-center">
                                        <tr class="custom-tr">
                                            <th class="custom-th">Teacher Name</th>
                                            <th class="custom-th">Class</th>
                                            <th class="custom-th">Section</th>
                                            <th class="custom-th">Subject</th>
                                            <th class="custom-th">Modify</th>
                                        </tr>
                                    </thead>
                                    <tbody class="table-skill__body text-center">
                                        <tr class="custom-tr" *ngFor="let item of cs_relationArray; let i=index">
                                            <td class="custom-td">{{Teacher_Form.value.au_full_name | titlecase}}</td>
                                            <td class="custom-td">{{item.class_name}}</td>
                                            <td class="custom-td">{{item.sec_name}}</td>
                                            <td class="custom-td">{{item.sub_name | titlecase}}</td>
                                            <td class="custom-td">
                                                <a>
                                                    <i class="far fa-trash-alt table-delete-icon" aria-hidden="true"
                                                        title="Delete" (click)="deleteCSRelation(i)"></i>
                                                </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12 text-center">
                                <button mat-raised-button class="btn-success" *ngIf="!updateFlag" (click)="addUser()"
                                    [disabled]="!Cs_relation_Form.valid">Submit</button>
                                <a [routerLink]="['../teacher-management']">
                                    <button mat-raised-button class="btn-success" matTooltip="Update Teacher"
                                        *ngIf="updateFlag" (click)="updateUser()">Update</button>
                                </a>
                                <button mat-raised-button class="btn-danger btn-spacer"
                                    matTooltip="Are you sure you want to reset?" (click)="saveief()">Reset</button>
                            </div>
                        </div>
                        <br>
                        <br>
                    </form>
                </div>
            </mat-tab>
            <mat-tab>
                <ng-template mat-tab-label>
                    <div>
                        <span>Control Dashboard</span>
                    </div>
                </ng-template>
                <br>
                <mat-card class="detail-question-box-blue">
                    <mat-card-content>
                        <div role="tabpanel" id="teacher-dashboard">
                            <form [formGroup]="Remark_Form" novalidate>
                                <div class="row">
                                    <div class="col-lg-12 white-box-content-title">
                                        <h6 class="text-center tab-title">Control Dashboard</h6>
                                        <br>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 col-md-4 col-lg-4">
                                        <div class="form-group col-apple-10">
                                            <div class="col-lg-9">
                                                <mat-form-field class="form-field">
                                                    <mat-select placeholder="Project" formControlName="pro_id"
                                                        (ngModelChange)="getModuleList($event)">
                                                        <mat-option value="">
                                                            Select Project
                                                        </mat-option>
                                                        <mat-option *ngFor="let item of projectsArray"
                                                            [value]="item.pro_id">
                                                            {{item.pro_name}}
                                                        </mat-option>

                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div
                                        class="col-lg-12 col-apple-10 apple-screen-paramter-content-div col-mobile-view-add-ques">
                                        <div>
                                            <div>
                                                <div class="col-apple-10">
                                                    <div class="module-list">

                                                        <ngx-treeview [config]="config" [items]="moduleItems"
                                                            (selectedChange)="moduleValues = $event">
                                                        </ngx-treeview>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <br>
                                <div class="row">
                                    <div class="col-lg-1 col-apple-10 ">
                                        <button mat-raised-button class="btn-success"
                                            (click)="submitModule()">Submit</button>
                                    </div>
                                </div>
                            </form>

                        </div>
                        <br>
                    </mat-card-content>
                </mat-card>
            </mat-tab>
        </mat-tab-group>
        <br>
        <br>
    </div>
</div>