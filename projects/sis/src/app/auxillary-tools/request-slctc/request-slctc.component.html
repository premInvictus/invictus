<div class="fee-container-box__grey">
    <div class="container-box__white">
      <div class="row">
        <!-- <div class="col-4 text-center">
          <div class="line-divider"></div>
        </div> -->
        <div class="col-12 text-center">
          <h4 class="text-uppercase text-center"><b>New SLC/ TC Request</b></h4>
        </div>
        <!-- <div class="col-4 text-center">
          <div class="line-divider"></div>
        </div> -->
      </div>
      <br>
      <form [formGroup]="studentdetailsform" novalidate >
      <div class="row">
        <div class="col-6">
          <div class="row">
            <div class="col-12">
                <mat-form-field class="form-field" appearance="outline">
                    <mat-label>Admission No.</mat-label>
                <input matInput placeholder="Admission No." formControlName="tc_admission_no" (blur)="getStudentDetails(studentdetailsform.value.tc_admission_no)"
                (keydown.enter)="getStudentDetails(studentdetailsform.value.tc_admission_no)" required>
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
                <mat-form-field class="form-field" appearance="outline">
                    <mat-label>Student Name</mat-label>
                <input matInput placeholder="Student Name" formControlName="au_full_name" readonly tabindex="-1">
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
                <mat-form-field class="form-field" appearance="outline">
                    <mat-label>Class</mat-label>
                <mat-select formControlName="class_id" placeholder="Class" (ngModelChange)="getSectionsByClass()" disabled tabindex="-1"> 
                    <mat-option value="">Please Select</mat-option>
                  <mat-option *ngFor="let item of classArray" [value]="item.class_id">
                      {{item.class_name}}
                  </mat-option>
              </mat-select>
              </mat-form-field>
            </div>
            <div class="col-6">
                <mat-form-field class="form-field" appearance="outline">
                    <mat-label>Section</mat-label>
                <mat-select placeholder="Section" formControlName="sec_id" disabled tabindex="-1">
                    <mat-option value="">Please Select</mat-option>
                  <mat-option *ngFor="let item of sectionArray" [value]="item.sec_id">
                      {{item.sec_name}}
                  </mat-option>
              </mat-select>
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
                <mat-form-field class="form-field" appearance="outline">
                    <mat-label>Email ID</mat-label>
                <input matInput placeholder="Email ID" formControlName="au_email" readonly tabindex="-1">
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="col-6">
          <div class="row">
            <div class="col-12">
                <mat-form-field class="form-field" appearance="outline">
                    <mat-label>Father's Name</mat-label>
                <input matInput placeholder="Father's Name" formControlName="father_name" readonly tabindex="-1">
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
                <mat-form-field class="form-field" appearance="outline">
                    <mat-label>Mother's Name</mat-label>
                <input matInput placeholder="Mother's Name" formControlName="mother_name" readonly tabindex="-1">
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="col-12">
                <mat-form-field class="form-field" appearance="outline">
                    <mat-label>Contact No.</mat-label>
                <input matInput placeholder="Contact No." formControlName="au_mobile" readonly tabindex="-1">
              </mat-form-field>
            </div>
          </div>
  
        </div>
      </div>
      <br>
      <div class="divider__grey"></div>
      <br>
      <div class="row">
        <!-- <div class="col-4 text-center">
          <div class="line-divider"></div>
        </div> -->
        <div class="col-12 text-center">
          <h4 class="text-uppercase text-center"><b>Reason For Change</b></h4>
        </div>
        <!-- <div class="col-4 text-center">
          <div class="line-divider"></div>
        </div> -->
      </div>
      <br>
      <div class="row">
        <div class="col-12">
            <mat-form-field class="form-field" appearance="outline">
                <mat-label>Reason For Change</mat-label>
            <mat-select placeholder="Reason For Change" formControlName="tc_reason" required>
                <mat-option value="">Please Select</mat-option>
              <mat-option value="Select" *ngFor="let item of reasonDataArray" value="{{item.reason_id}}">{{item.reason_title}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
            <mat-form-field class="form-field" appearance="outline">
                <mat-label>Remarks</mat-label>
            <textarea rows="3" matInput placeholder="Remarks" formControlName="tc_remark" required></textarea>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
  
        <div class="col-12">
          <label>Upload Application</label>
          <input type="file" multiple="true" (change)="fileChangeEvent($event)" id="upload_doc" style="display: none !important">          
          <button mat-stroked-button class="btn-spacer btn-neutral"><label for="upload_doc" class="btn-document-label">Upload file <i class="fas fa-cloud-upload-alt"></i></label></button>
        </div>
      </div>
      <br>
      <div class="row ">
          <div class="col-1 margin-bottom-15" *ngFor="let image of requestDoc;let i = index">
              <img *ngIf= "checkThumbnail(image.file_url)" class="btn-doc-upload-preview" [src]="image.file_url" (click)="previewImage(requestDoc, i)">
              <img *ngIf= "!checkThumbnail(image.file_url)" class="btn-doc-upload-preview"
              src="https://icons-for-free.com/free-icons/png/512/2109135.png" 
              (click)="previewImage(requestDoc, i)"><br>
            <button mat-button class="upload-document-delete-btn" (click)="deleteRequestDoc(image)"><mat-icon class="btn-upload-icon">delete</mat-icon></button>       
          </div>
        </div>
      </form>
      <br>
    <br>
    <div class="text-center">
      <button mat-raised-button class="btn-green" (click)="saveForm()" >Save</button>
      <button mat-raised-button class="btn-purple btn-spacer" (click)="resetForm()" >Reset</button>
      <button mat-raised-button class="btn-purple btn-spacer" (click)="backUrl()" >Back</button>
    </div>
    <br>
    <br>
    </div>
  </div>