
<div class="row row-remove-top-margin">
  <div class="col-lg-12">
    <div class="float-right">
      <button class="submit-button" mat-button (click)="printTestQuestionAnalysisTST()"><i class="fas fa-print dialog-table-print-icon"></i>
        &nbsp;Print</button>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-lg-12 col-sm-12 col-md-12">
    <div *ngIf="tableCollection">
        <div id="printModal" class="teacher-other-tab-table">
            <div class="normal-table-responsive">
        <!-- <h6>Users Table</h6> -->
        <table class="dialog-table-review table" cellspacing="0">
          <thead>
            <tr class="dialog-table-review-header text-center">
              <th style="width: 3rem;">S.No</th>
              <th style="width: 5rem;">Topic</th>
              <th style="width: 5rem;">Sub-Topic</th>
              <th style="width: 3.8rem;">Q. No.</th>
              <th style="width: 5.8rem;">Attempted</th>
              <th style="width: 9rem;" colspan="3">Attempts</th>

              <th style="width: 5.4rem;">Graph</th>
              <th style="width: 6rem;">Difficulty</th>
            </tr>
            <tr class="dialog-table-review-header text-center">
              <th style="width: 3rem;"></th>
              <th style="width: 7rem;"></th>
              <th style="width: 5.9rem;"></th>
              <th style="width: 4rem;"></th>
              <th style="width: 5.2rem;"></th>
              <th style="width: 5rem;">Correct</th>
              <th style="width: 5rem;">Incorrect</th>
              <th style="width: 3rem;">Skipped</th>
              <th style="width: 10rem;">
                <a>
                  <i class="fa fa-square attempted-icon" aria-hidden="true"> &nbsp;
                    <span style="color:black">Correct</span>
                  </i> &nbsp;
                  <i class="fa fa-square skipped-icon" aria-hidden="true"> &nbsp;
                    <span style="color:black">InCorrect</span>
                  </i> &nbsp;
                  <i class="fa fa-square bookmark-icon" aria-hidden="true"> &nbsp;
                    <span style="color:black">Skipped</span>
                  </i>
                </a>
              </th>
              <th style="width: 3rem;">Skill Type</th>
            </tr>
          </thead>
          <tbody *ngIf="teachertopicsubtopicDeiv">
            <ng-container *ngFor="let sub of subjectArrayOfQP">
            <tr>
            <td class="teacher-topic-subtpic-subject" colspan="11">
            <span class="text-center">{{sub.sub_name}}</span>
            </td>
            </tr>
            <ng-container *ngFor="let titem of testQuestionArrayTemp;let i=index">
              <ng-container *ngFor="let sitem of titem.stArray;let sIndex=index">
                <ng-container *ngFor="let qus of sitem.qusArray;let qusIndex=index">
                  <tr *ngIf="sub.sub_id == titem.sub_id" class=" text-center">
                    <td style="width: 3rem;"
                      *ngIf="sIndex === 0 && qusIndex === 0"
                      [attr.rowspan]="titem.row_span"
                    >{{i+1}}</td>
                    <td style="width: 7rem;"
                      *ngIf="sIndex === 0 && qusIndex === 0"
                      [attr.rowspan]="titem.row_span"
                    >{{titem.topic_name}}</td>
                    <td style="width: 10rem;"
                      *ngIf="qusIndex === 0"
                      [attr.rowspan]="sitem.row_span"
                    >{{sitem.st_name}}</td>
                    <td style="width: 5.1rem;">{{getQusPosition(qus.qus_id)}}</td>
                    <td style="width: 7.4rem;">{{getAttempted(qus.correct,qus.incorrect)}}</td>
                    <td style="width: 6.3rem;">{{qus.correct}}</td>
                    <td style="width: 6.3rem;">{{qus.incorrect}}</td>
                    <td style="width: 5.2rem;">{{qus.skip}}</td>
                    <td style="width: 13rem">
                        <div style="padding-left: 22%" *ngIf="pieFlagTeacher">
                          <app-common-dynamic-chart [options]="qus.pieOptions"></app-common-dynamic-chart>
                        </div>
                    </td>
                    <td style="width: 2rem;">{{qus.skill_name}}</td>
                  </tr>
                </ng-container>
              </ng-container>
            </ng-container>
          </ng-container>
          </tbody>
        </table>
        </div>
      </div>
    </div>
  </div>
</div>
