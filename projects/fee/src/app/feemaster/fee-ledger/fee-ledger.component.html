<div class="fee-container-box__grey">
    <div class="row">
        <div class="col-12 remove-col-padding">
           <mat-card class="card-top-title__container">
              <div class="row">
                 <div class="col-6">
                    <h1 class="remove-bottom-margin font-size-24">Fee Ledger</h1>
                 </div>
              </div>
           </mat-card>
        </div>
     </div>
    <div class="row">
        <div class="col-12 remove-col-padding">
          <app-common-student-profile [loginId]="lastRecordId"
          (next)="next($event)"
          (prev)="prev($event)"
          (first)="first($event)"
          (last)="last($event)"
          (key)="key($event)"
          (processTypeEmit)="checkEmit($event)"></app-common-student-profile>
        </div>
      </div>
  <div class="row">
    <div class="col-12 remove-col-padding">
      <mat-card class="card-top-title__container card-height-677 card-height-795">
        <div class="row margin-bottom-10">
          <div class="col-6 remove-col-padding-left">
            <!-- <span class="font-size-24 font-medium">Accounts</span> -->
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <div >
              <div class="table-fee-ledger-child">
            <table id="fee_ledger" #table mat-table [dataSource]="dataSource" class="text-center table-100">
              <ng-container matColumnDef="srno">
                <th mat-header-cell *matHeaderCellDef>Sr No. </th>
                <td mat-cell *matCellDef="let item"> {{item.srno}} </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="date">  
                <th mat-header-cell *matHeaderCellDef> Date </th>
                <td mat-cell *matCellDef="let item"> {{item.date}} </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Weight Column -->
              <ng-container matColumnDef="invoiceno">
                <th mat-header-cell *matHeaderCellDef> Invoice No. </th>
                <td  mat-cell *matCellDef="let item">
                  <span *ngIf="item.action.flgr_invoice_type === 'I' && item.invoiceno != '0'"
                  class="pointer font-bold font-skyblue font-underline">
                  <a (click)="openDialog(item.action.flgr_inv_id, false)">I-#{{item.invoiceno}}</a>
                </span>
                <span *ngIf="item.action.flgr_invoice_type === 'R'  && item.invoiceno != '0'"
                class="pointer font-bold font-skyblue font-underline">
                <a (click)="openReceiptDialog(item.action.flgr_inv_id, false)">R-#{{item.invoiceno}}</a>
              </span>
              </td>
              <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <!-- Symbol Column -->
              <ng-container matColumnDef="feeperiod">
                <th mat-header-cell *matHeaderCellDef> Fee Period </th>
                <td mat-cell *matCellDef="let item" style="text-align: left !important;padding-left: 0.5%;">  {{item.feeperiod}} </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>
              <!-- Symbol Column -->
              <ng-container matColumnDef="particular">
                <th mat-header-cell *matHeaderCellDef> Particulars </th>
                <td mat-cell *matCellDef="let item" style="text-align: left !important;padding-left: 0.5%;">  {{item.particular}} </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <ng-container matColumnDef="amount">
                <th mat-header-cell *matHeaderCellDef> Fee Due (<span><i class="fas fa-rupee-sign" ></i></span>)</th>
                <td mat-cell *matCellDef="let item"> {{item.amount | number | zerodash}} </td>
                <td mat-footer-cell *matFooterCellDef> {{footerRecord.feeduetotal | number}} </td>
              </ng-container>

              <ng-container matColumnDef="concession">
                <th mat-header-cell *matHeaderCellDef> Concession (<span><i class="fas fa-rupee-sign" ></i></span>) </th>
                <td mat-cell *matCellDef="let item"> {{item.concession | number | zerodash}} </td>
                <td mat-footer-cell *matFooterCellDef> {{footerRecord.concessiontotal | number}} </td>
              </ng-container>

              <ng-container matColumnDef="reciept">
                <th mat-header-cell *matHeaderCellDef> Receipt (<span><i class="fas fa-rupee-sign" ></i></span>) </th>
                <td mat-cell *matCellDef="let item"> {{item.reciept | number | zerodash}} </td>
                <td mat-footer-cell *matFooterCellDef> {{footerRecord.receipttotal | number}} </td>
              </ng-container>

              <ng-container matColumnDef="balance">
                <th mat-header-cell *matHeaderCellDef> Balance 
                    <span style="float:right; padding-right: 10px;"><img style="cursor: pointer" src="/assets/images/xml.svg" (click)="exportAsExcel()"
                      matTooltip="Export as excel"></span>  
                </th>
                <td mat-cell *matCellDef="let item"> {{item.balance | number}} </td>
                <td mat-footer-cell *matFooterCellDef></td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              <tr mat-footer-row *matFooterRowDef="displayedColumns;" [hidden]="FEE_LEDGER_ELEMENT.length == 0"></tr>
            </table>
            <!-- <table class="table-100 text-center" style="margin-top:5px;">
              <tr *ngIf="FEE_LEDGER_ELEMENT.length > 0">
                <td colspan="5">Total</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td></td>
              </tr>
            </table> -->
            <table class="table-100 text-center" style="margin-top:5px;">
              <tr *ngIf="FEE_LEDGER_ELEMENT.length == 0">
                <td colspan="8">No Record Found</td>
              </tr>
            </table>
            </div>
            </div>
            
          </div>
        </div>
      </mat-card>
    </div>
  </div>
</div>