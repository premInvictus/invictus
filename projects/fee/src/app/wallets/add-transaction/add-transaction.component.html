<div >
  <div class="row">
     <div class="col-12 ">
        <mat-card class="card-top-title__container">
           <div class="row">
              <div class="col-6">
                 <h1 class="remove-bottom-margin font-size-24">Fee Transaction Entry</h1>
              </div>
           </div>
        </mat-card>
     </div>
  </div>
  <div class="row">
     <div class="col-12 padding-8">
        <app-common-student-profile [loginId]="lastRecordId" (next2)="next($event)" (prev2)="prev($event)"
           (first2)="first($event)" (last2)="last($event)" (key2)="key($event)" (next)="next2($event)"
           (prev)="prev2($event)" (first)="first2($event)" (last)="last2($event)" (key)="key2($event)"
           (processTypeEmit)="checkEmit($event)" [feeRenderId]="feeRenderId"></app-common-student-profile>
     </div>
  </div>
  <form [formGroup]="feeTransactionForm">
     <div class="row">
        <!-- <div class="col-6 ">
           <mat-card class="card-top-form__container card-height-605 card-height-720">
              <div class="row remove-margin">
                 <div class="col-12 remove-col-padding">
                    <div class="row remove-margin remove-padding">
                       <div class="col-6 remove-col-padding-left">
                          <mat-form-field appearance="outline"
                             class="form-field">
                             <mat-label>Select Date</mat-label>
                             <input matInput [matDatepicker]="picker" placeholder="Choose a date"
                                formControlName="w_transaction_date">
                             <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                             <mat-datepicker #picker></mat-datepicker>
                          </mat-form-field>
                       </div>
                    </div>
                 </div>
              </div>
           </mat-card>
        </div> -->
        <div class="col-12">
           <mat-card class="card-top-form__container card-height-605 card-height-720">
              <div class="row">
                 <div class="col-4"></div>
                 <div class="col-4">
                    <div class="row">
                      <div class="col-12">
                          <mat-form-field appearance="outline"
                          class="form-field">
                          <mat-label>Select Date</mat-label>
                          <input matInput [matDatepicker]="picker" placeholder="Choose a date"
                             formControlName="w_transaction_date">
                          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                          <mat-datepicker #picker></mat-datepicker>
                       </mat-form-field>
                      </div>
                       <div class="col-12">
                          <mat-form-field appearance="outline" class="form-field ">
                             <mat-label>Payment Mode</mat-label>
                             <mat-select formControlName="w_pay_id" placeholder="Payment Mode"
                                (selectionChange)="setPayAmount($event)" required>
                                <mat-option value="">Please Select</mat-option>
                                <mat-option *ngFor="let mode of payModes" [value]="mode.pay_id">{{mode.pay_name}}
                                </mat-option>
                             </mat-select>
                          </mat-form-field>
                       </div>
                    </div>
                 </div>
                 <div class="col-4"></div>
              </div>
              <div *ngIf="feeTransactionForm.value.w_pay_id === '1'">
                 <div class="row">
                    <div class="col-4"></div>
                    <div class="col-4">
                       <div class="row">
                          <div class="col-12">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Amount</mat-label>
                                <input matInput placeholder="Amount" type="number" formControlName="w_amount"
                                   required>
                             </mat-form-field>
                          </div>
                       </div>
                       <div class="row">
                          <div class="col-12">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Remarks</mat-label>
                                <textarea placeholder="Write your message" required formControlName="w_remarks"
                                   matInput rows="4"></textarea>
                             </mat-form-field>
                          </div>
                       </div>
                    </div>
                    <div class="col-4">
                    </div>
                 </div>
              </div>
              <div *ngIf="feeTransactionForm.value.w_pay_id === '4'|| feeTransactionForm.value.w_pay_id === '5'
              || feeTransactionForm.value.w_pay_id === '6'">
                 <div class="row">
                    <div class="col-2"></div>
                    <div class="col-8">
                       <div class="row">
                          <div class="col-6">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Bank Name</mat-label>
                                <mat-select placeholder="Bank Name" formControlName="w_bnk_id" required>
                                   <mat-option value="">Please Select</mat-option>
                                   <mat-option *ngFor="let bank of banks" [value]="bank.bnk_gid">{{bank.bank_name}}
                                   </mat-option>
                                </mat-select>
                             </mat-form-field>
                          </div>
                          <div class="col-3">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Amount</mat-label>
                                <input matInput placeholder="Amount" type="number" formControlName="w_amount"
                                   required>
                             </mat-form-field>
                          </div>
                          <div class="col-3">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Transaction Id</mat-label>
                                <input matInput placeholder="Transaction Id" type="number"
                                   formControlName="w_transaction_id" required>
                             </mat-form-field>
                          </div>
                       </div>
                       <div class="row">
                          <div class="col-12">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Remarks</mat-label>
                                <textarea placeholder="Write your message" required formControlName="w_remarks"
                                   matInput rows="4"></textarea>
                             </mat-form-field>
                          </div>
                       </div>
                    </div>
                    <div class="col-2"></div>
                 </div>
              </div>
              <div *ngIf="feeTransactionForm.value.w_pay_id === '2'">
                 <div class="row">
                    <div class="col-2"></div>
                    <div class="col-4">
                       <div class="row">
                          <div class="col-12">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Bank Name</mat-label>
                                <mat-select placeholder="Bank Name" formControlName="w_bnk_id" required>
                                   <mat-option value="">Please Select</mat-option>
                                   <mat-option *ngFor="let bank of banks" [value]="bank.bnk_gid">{{bank.bank_name}}
                                   </mat-option>
                                </mat-select>
                             </mat-form-field>
                          </div>
                       </div>
                       <div class="row">
                          <div class="col-12">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Amount</mat-label>
                                <!-- [readonly]="selectedMode === '1'"-->
                                <input matInput placeholder="Amount" type="number" formControlName="w_amount"
                                   required>
                             </mat-form-field>
                          </div>
                       </div>
                    </div>
                    <div class="col-4">
                       <div class="row margin-bottom-10">
                          <div class="col-12">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Remarks</mat-label>
                                <textarea matInput placeholder="Write your message" formControlName="w_remarks"
                                   required rows="6"></textarea>
                             </mat-form-field>
                          </div>
                       </div>
                    </div>
                    <div class="col-2"></div>
                 </div>
              </div>
              <div *ngIf="feeTransactionForm.value.w_pay_id === '3'">
                 <div class="row">
                    <div class="col-12">
                       <div class="row">
                          <div class="col-3">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Cheque No.</mat-label>
                                <input matInput placeholder="Cheque No." formControlName="w_cheque_no"
                                   oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                   type="number" maxlength="6" required>
                             </mat-form-field>
                          </div>
                          <div class="col-3">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Drawn On</mat-label>
                                <mat-select placeholder="Drawn On" formControlName="w_deposit_bnk_id" required>
                                   <mat-option value="">Please Select</mat-option>
                                   <mat-option *ngFor="let bank of allBanks" [value]="bank.tb_id">{{bank.tb_name}}
                                   </mat-option>
                                </mat-select>
                             </mat-form-field>
                          </div>
                          <div class="col-3">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Branch</mat-label>
                                <input matInput placeholder="Bank Branch" formControlName="w_branch">
                             </mat-form-field>
                          </div>
                       </div>
                    </div>
                    <div class="col-12">
                       <div class="row">
                          <div class="col-3">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Amount Chargeable</mat-label>
                                <input matInput placeholder="Amount Chargeable" type="number"
                                   formControlName="w_amount" required>
                             </mat-form-field>
                          </div>
                          <div class="col-3">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Cheque Date</mat-label>
                                <input matInput [matDatepicker]="picker3" placeholder="Choose a date" [max]="currentDate"
                                   formControlName="w_cheque_date" required>
                                <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                                <mat-datepicker #picker3></mat-datepicker>
                             </mat-form-field>
                          </div>
                          <div class="col-6">
                             <mat-form-field appearance="outline" class="form-field">
                                <mat-label>Remarks</mat-label>
                                <textarea placeholder="Write your message" matInput rows="2" required
                                   formControlName="w_remarks"></textarea>
                             </mat-form-field>
                          </div>
                       </div>
                    </div>
                 </div>
              </div>
              <div class="row text-center">
                 <div class="col-12">
                    <button mat-button class="text-uppercase btn-success"
                       (click)="submit()">submit</button>
                    <button *ngIf="isExist('367')" mat-button class="text-uppercase recalulate-invoice-btn btn-spacer"
                       (click)="saveAndPrint()" [disabled]="btnDisable">save & print</button>
                    <button mat-button class="text-uppercase btn-danger btn-spacer" (click)="reset()">reset</button>
                 </div>
              </div>
           </mat-card>
        </div>
     </div>
  </form>
</div>